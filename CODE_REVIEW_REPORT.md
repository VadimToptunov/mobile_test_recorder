# –û—Ç—á–µ—Ç –æ —Ä–µ–≤—å—é –∫–æ–¥–∞ - Mobile Test Recorder

**–î–∞—Ç–∞:** 8 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

## üìã –û–±–∑–æ—Ä

–ü—Ä–æ–≤–µ–¥–µ–Ω –ø–æ–ª–Ω—ã–π —Ä–µ–≤—å—é –ø—Ä–æ–µ–∫—Ç–∞ `mobile_test_recorder` —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞:
- –û—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ (Mypy)
- –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∏–º–ø–æ—Ä—Ç—ã (Flake8)
- –°—Ç–∏–ª—å –∫–æ–¥–∞ –∏ –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫ (E501)

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**
- **–§–∞–π–ª:** `framework/analyzers/business_logic_analyzer.py`
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `handler_body` –æ–±—ä—è–≤–ª—è–ª–∞—Å—å –≤ —Ü–∏–∫–ª–∞—Ö catch, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å
- **–õ–æ–∫–∞—Ü–∏–∏:** —Å—Ç—Ä–æ–∫–∏ 386, 735
- **–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `_` –¥–ª—è —è–≤–Ω–æ–≥–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è

```python
# –ë—ã–ª–æ:
for exception_type, handler_body in catches:
    ...

# –°—Ç–∞–ª–æ:
for exception_type, _ in catches:
    ...
```

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤**
- **–§–∞–π–ª:** `framework/analyzers/business_logic_analyzer.py`
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `transitions` –±–µ–∑ —è–≤–Ω–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–∞
- **–õ–æ–∫–∞—Ü–∏—è:** —Å—Ç—Ä–æ–∫–∞ 828
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ —è–≤–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è

```python
# –ë—ã–ª–æ:
transitions = {state: [] for state in states}

# –°—Ç–∞–ª–æ:
transitions: Dict[str, List[str]] = {state: [] for state in states}
```

### 3. **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ç–∏–ø–æ–≤ –≤ Dict**
- **–§–∞–π–ª:** `framework/analyzers/business_logic_analyzer.py`
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–µ `source` –æ–∂–∏–¥–∞–µ—Ç `Sequence[str]`, –Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è `str | None`
- **–õ–æ–∫–∞—Ü–∏–∏:** —Å—Ç—Ä–æ–∫–∏ 1003, 1017
- **–†–µ—à–µ–Ω–∏–µ:** –û–±–µ—Ä–Ω—É—Ç–æ –≤ —Å–ø–∏—Å–æ–∫ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ None

```python
# –ë—ã–ª–æ:
"source": edge_case.source_file,  # Optional[str]

# –°—Ç–∞–ª–æ:
"source": ([edge_case.source_file] if edge_case.source_file else []),
```

### 4. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
- **–ü—Ä–æ–±–ª–µ–º–∞:** `black` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ 100 —Å–∏–º–≤–æ–ª–æ–≤, `flake8` –ø—Ä–æ–≤–µ—Ä—è–ª 79
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –°–æ–∑–¥–∞–Ω `.flake8` —Å `max-line-length = 100` –∏ `extend-ignore = E501`
  - –û–±–Ω–æ–≤–ª–µ–Ω `pyproject.toml` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ flake8
  - –í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç: **100 —Å–∏–º–≤–æ–ª–æ–≤**

## üìÅ –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### `.flake8`
```ini
[flake8]
max-line-length = 100
extend-ignore = E501
exclude = .git, __pycache__, .venv, venv, build, dist
per-file-ignores = __init__.py:F401
```

### –û–±–Ω–æ–≤–ª–µ–Ω `pyproject.toml`
```toml
[tool.flake8]
max-line-length = 100
extend-ignore = ["E501"]
```

## üîç –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏: **0**
- ‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–Ω—Ç–µ—Ä–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –¥–ª–∏–Ω–µ —Å—Ç—Ä–æ–∫: **–û—Ç–∫–ª—é—á–µ–Ω—ã**
- E501 –æ—Ç–∫–ª—é—á–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç 100 —Å–∏–º–≤–æ–ª–æ–≤
- –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `black --line-length 100`

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å IDE
–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.flake8` –∏ `pyproject.toml` —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
```bash
# VS Code / Cursor
Cmd+Shift+P -> "Reload Window"
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ª–∏–Ω—Ç–µ—Ä–æ–≤:
```bash
pip install -e ".[dev]"
```

### 3. Pre-commit hooks (–±—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ)
–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `.pre-commit-config.yaml` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:
```yaml
repos:
  - repo: https://github.com/psf/black
    rev: 23.12.1
    hooks:
      - id: black
        args: [--line-length=100]
  - repo: https://github.com/pycqa/flake8
    rev: 7.0.0
    hooks:
      - id: flake8
        args: [--max-line-length=100, --extend-ignore=E501]
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 8
- **–°—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ:** 908
- **–°—Ç—Ä–æ–∫ —É–¥–∞–ª–µ–Ω–æ:** 84
- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 4
  - `.flake8` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–∏–Ω—Ç–µ—Ä–∞)
  - `framework/analyzers/ast_analyzer.py` (AST –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä)
  - `framework/cli/project_commands.py` (CLI –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤)
  - `test_ast_analyzer.py` (—Ç–µ—Å—Ç AST –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞)

## ‚ú® –ò—Ç–æ–≥

–ü—Ä–æ–µ–∫—Ç **–≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–∏–Ω—Ç–µ—Ä–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞. –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –µ–¥–∏–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. ‚úÖ –†–µ–≤—å—é –∫–æ–¥–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
2. ‚è≥ –û–±–æ–≥–∞—â–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –º–æ–¥–µ–ª–∏ (pending)
3. ‚è≥ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –Ω–∞–±–æ—Ä–∞ (pending)

---
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** Business Logic Analyzer v2.1  
**–ö–æ–º–º–∏—Ç:** e3d9ba2
