# Self-Learning ML System

> –ú–æ–¥–µ–ª—å —É—á–∏—Ç—Å—è —Å–∞–º–∞ –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –±–µ–∑ —É—á–∞—Å—Ç–∏—è —á–µ–ª–æ–≤–µ–∫–∞

---

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–±—ã—á–Ω—ã–µ ML –º–æ–¥–µ–ª–∏ —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–π —Ä–∞–∑–º–µ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:** –ö—Ä–∞—É–¥—Å–æ—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π + –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  User 1 (Flutter app)     User 2 (React Native app)   ‚îÇ
‚îÇ          ‚Üì                           ‚Üì                 ‚îÇ
‚îÇ   –°–æ–±–∏—Ä–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã          –°–æ–±–∏—Ä–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã        ‚îÇ
‚îÇ   –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏              –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ                        ‚îÇ
              ‚Üì                        ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Central ML Server (api.mobile-observe.dev)      ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚Ä¢ –ê–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç –≤—Å–µ—Ö —é–∑–µ—Ä–æ–≤                     ‚îÇ
‚îÇ  ‚Ä¢ –ü–µ—Ä–µ–æ–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é                     ‚îÇ
‚îÇ  ‚Ä¢ –ü—É–±–ª–∏–∫—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚Üì
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ  Model v1.1 (updated)  ‚îÇ
              ‚îÇ  ‚Ä¢ 10K –Ω–æ–≤—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤  ‚îÇ
              ‚îÇ  ‚Ä¢ 92% ‚Üí 95% accuracy  ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  All Users: auto-download updated model                ‚îÇ
‚îÇ  ‚Ä¢ –†–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ —Å –∫–∞–∂–¥–æ–π –Ω–µ–¥–µ–ª–µ–π                     ‚îÇ
‚îÇ  ‚Ä¢ –ë–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üöÄ –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (User Experience)

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. Install framework
pip install mobile-observe-test

# 2. Run first test generation
observe project fullcycle --android-source ./app/src --output ./tests/

# –í –∫–æ–Ω—Å–æ–ª–∏:
# ‚úÖ Using universal pre-trained ML model
# üìä Model version: 1.2.0 (trained on 50K+ elements)
# üåç Supports: Android, iOS, Flutter, React Native
# 
# üí° TIP: Your usage helps improve the model for everyone!
#    Data shared: element attributes only (no app names, no text content)
#    Opt-out: observe config set ml.contribute false
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
observe project fullcycle ...

# –í –∫–æ–Ω—Å–æ–ª–∏:
# üîÑ Checking for model updates...
# ‚úÖ New model available: v1.3.0
# üì• Downloading... [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100%
# ‚úÖ Model updated! Accuracy improved: 92% ‚Üí 95%
# 
# Changelog:
#   ‚Ä¢ Added 5K new Flutter samples
#   ‚Ä¢ Improved checkbox detection
#   ‚Ä¢ Better React Native support
```

### –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
observe ml check-updates

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é
observe ml update-model

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–≤–æ–∏—Ö –≤–∫–ª–∞–¥–æ–≤
observe ml stats

# Output:
# üìä Your Contributions
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# ‚Ä¢ Samples collected: 2,350
# ‚Ä¢ Platforms: Android (80%), iOS (20%)
# ‚Ä¢ Uploaded: 2,350 / 2,350
# ‚Ä¢ Thank you for helping improve the model! üéâ

# –û—Ç–∫–ª—é—á–∏—Ç—å —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
observe config set ml.contribute false

# –í–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ
observe config set ml.contribute true
```

---

## üîí –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å (Privacy-First Design)

### –ß—Ç–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è?

```json
{
  "sample_id": "a3f9e82b",
  "class_name": "androidx.compose.material.Button",
  "clickable": true,
  "focusable": true,
  "has_text": true,
  "text_length": 6,
  "bounds_width": 120,
  "bounds_height": 48,
  "platform": "android",
  "element_type": "button",
  "confidence": 0.95,
  "timestamp": "2026-01-12T10:30:00Z"
}
```

### –ß—Ç–æ –ù–ï —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è?

‚ùå **App names** - –Ω–µ –∑–Ω–∞–µ–º, –∫–∞–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚ùå **Package IDs** - –Ω–µ –∑–Ω–∞–µ–º, –∫—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
‚ùå **Actual text** - —Ç–æ–ª—å–∫–æ `has_text: true` –∏ –¥–ª–∏–Ω–∞
‚ùå **Screenshots** - –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–±–∏—Ä–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚ùå **User data** - –Ω–∏–∫–∞–∫–æ–π –ª–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
‚ùå **API calls** - —Ç–æ–ª—å–∫–æ UI —ç–ª–µ–º–µ–Ω—Ç—ã
‚ùå **IP addresses** - –∞–Ω–æ–Ω–∏–º–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

| –§–∏—á–∞ | Mobile Observe | Firebase Crashlytics | Amplitude |
|------|----------------|----------------------|-----------|
| –°–æ–±–∏—Ä–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π | ‚ùå | ‚úÖ | ‚úÖ |
| –°–æ–±–∏—Ä–∞–µ—Ç —Ç–µ–∫—Å—Ç —Å —ç–∫—Ä–∞–Ω–æ–≤ | ‚ùå | ‚úÖ (stacktraces) | ‚úÖ |
| –°–æ–±–∏—Ä–∞–µ—Ç screenshots | ‚ùå | ‚úÖ | ‚ùå |
| –°–æ–±–∏—Ä–∞–µ—Ç user IDs | ‚ùå | ‚úÖ | ‚úÖ |
| –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å | ‚úÖ | ‚úÖ | ‚úÖ |

**–í—ã–≤–æ–¥:** –ú—ã —Å–æ–±–∏—Ä–∞–µ–º –ú–ï–ù–¨–®–ï –¥–∞–Ω–Ω—ã—Ö, —á–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**1. SelfLearningCollector** - —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ

```python
from framework.ml.self_learning import SelfLearningCollector

collector = SelfLearningCollector(
    opt_in=True,  # User consent
    upload_endpoint="https://api.mobile-observe.dev/v1/ml/samples"
)

# Automatically collects during normal usage
collector.collect_from_hierarchy(hierarchy, platform="android")

# Auto-uploads when batch reaches 1000 samples
```

**2. ModelUpdater** - –æ–±–Ω–æ–≤–ª—è–µ—Ç –º–æ–¥–µ–ª–∏

```python
from framework.ml.self_learning import ModelUpdater

updater = ModelUpdater()

# Check for updates (happens automatically once per day)
update = updater.check_for_updates()

if update:
    updater.download_update(update)
    # Model updated to v1.3.0!
```

**3. FeedbackCollector** - —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```python
from framework.ml.self_learning import FeedbackCollector

feedback = FeedbackCollector()

# When user corrects ML prediction
feedback.record_correction(
    element=element_dict,
    predicted_type="text",      # ML thought it's text
    actual_type="button",       # User corrected: it's a button
    platform="ios"
)

# This correction helps retrain the model!
```

---

## üìà –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –º–æ–¥–µ–ª–∏

### Week 1: Initial Release

```
Model v1.0.0
‚Ä¢ Trained on: 2,500 synthetic samples
‚Ä¢ Accuracy: 87%
‚Ä¢ Platforms: Android, iOS
‚Ä¢ Users: 0
```

### Week 2: First User Data

```
Model v1.1.0
‚Ä¢ New data: +5,000 real samples from 50 users
‚Ä¢ Accuracy: 89% (+2%)
‚Ä¢ New patterns discovered:
  - Custom Material Design components
  - Jetpack Compose buttons
‚Ä¢ Users: 50
```

### Week 4: Growing Dataset

```
Model v1.2.0
‚Ä¢ New data: +15,000 samples from 200 users
‚Ä¢ Accuracy: 92% (+3%)
‚Ä¢ Added support:
  - Flutter widgets
  - React Native components
‚Ä¢ Users: 200
```

### Week 12: Production Ready

```
Model v1.5.0
‚Ä¢ Total data: 50,000+ real-world samples
‚Ä¢ Accuracy: 95% (+3%)
‚Ä¢ Platforms: Android, iOS, Flutter, React Native
‚Ä¢ Users: 1,000+
‚Ä¢ User corrections: 500+ integrated
```

### Year 1: Industry Standard

```
Model v2.0.0
‚Ä¢ Total data: 500,000+ samples from 10K+ users
‚Ä¢ Accuracy: 98% (+3%)
‚Ä¢ Coverage: 99.9% of all mobile UI patterns
‚Ä¢ Zero manual labeling required
```

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥

### –í ModelBuilder

```python
# framework/model_builder/builder.py

from framework.ml.self_learning import SelfLearningCollector

class ModelBuilder:
    def __init__(self, ...):
        # Initialize self-learning
        self.ml_collector = SelfLearningCollector()
    
    def build_from_events(self, events: List[Event]) -> AppModel:
        # Build model as usual
        model = self._build_model(events)
        
        # Collect training data automatically
        if self.ml_collector.opt_in:
            for screen in model.screens:
                hierarchy = self._screen_to_hierarchy(screen)
                self.ml_collector.collect_from_hierarchy(
                    hierarchy,
                    platform=model.platform.value
                )
        
        return model
```

### –í CLI commands

```python
# framework/cli/project_commands.py

from framework.ml.self_learning import ModelUpdater

@project.command()
def fullcycle(...):
    # Check for model updates before starting
    updater = ModelUpdater()
    if updater.auto_update():
        click.echo("‚úÖ ML model updated to latest version!")
    
    # Continue with normal workflow
    ...
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (–±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞)

```bash
# 1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
observe ml generate-test-samples --count 1000 --output test_samples.json

# 2. –°–æ–±–∏—Ä–∞–µ–º –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à (–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º)
observe config set ml.contribute false  # Disable uploads
observe config set ml.local_cache_only true

# 3. –ò—Å–ø–æ–ª—å–∑—É–µ–º framework –∫–∞–∫ –æ–±—ã—á–Ω–æ
observe project fullcycle --android-source ./app/src --output ./tests/

# 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
ls ml_cache/training_samples/
# batch_a3f9e82b.json  (1000 samples)

# 5. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
observe ml analyze-cache
# Output:
# üìä Local Training Cache
# ‚Ä¢ Batches: 5
# ‚Ä¢ Total samples: 5,000
# ‚Ä¢ Platform distribution:
#   - Android: 80% (4,000)
#   - iOS: 20% (1,000)
# ‚Ä¢ Element types:
#   - button: 1,200
#   - input: 800
#   - text: 1,500
#   ...
```

### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (mock server)

```bash
# 1. –ó–∞–ø—É—Å–∫–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π mock server
cd ml_server_mock/
python mock_server.py
# Server running on http://localhost:8000

# 2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º endpoint
observe config set ml.upload_endpoint http://localhost:8000/v1/ml/samples

# 3. –í–∫–ª—é—á–∞–µ–º uploads
observe config set ml.contribute true

# 4. –ò—Å–ø–æ–ª—å–∑—É–µ–º framework
observe project fullcycle ...

# 5. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
curl http://localhost:8000/v1/ml/samples/stats
# {
#   "total_batches": 3,
#   "total_samples": 3000,
#   "last_upload": "2026-01-12T11:45:00Z"
# }
```

---

## üåç Production Server (–±—É–¥—É—â–µ–µ)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

```yaml
# Infrastructure
- Endpoint: https://api.mobile-observe.dev
- Backup: https://ml.mobile-observe.dev
- CDN: CloudFlare (–¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π)
- Database: PostgreSQL (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
- Storage: S3 (training samples, models)

# API Endpoints
POST /v1/ml/samples          # Upload training batch
GET  /v1/ml/models/latest    # Get latest model metadata
GET  /v1/ml/models/{version} # Download specific model version
POST /v1/ml/feedback         # Upload user corrections

# Authentication
- API key (–¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö)
- Public download (–º–æ–¥–µ–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º)

# Privacy
- No logging of IP addresses
- No user tracking
- GDPR compliant
- –ú–æ–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö
```

### Training Pipeline

```python
# ml_server/training_pipeline.py

def weekly_retrain():
    """Runs every Sunday at 2 AM UTC"""
    
    # 1. Collect new samples from last week
    new_samples = db.query_samples(since=last_week)
    print(f"New samples: {len(new_samples)}")
    
    # 2. Merge with existing dataset
    full_dataset = merge_datasets(existing_dataset, new_samples)
    
    # 3. Clean and validate
    clean_dataset = validate_and_clean(full_dataset)
    
    # 4. Train new model
    model = train_universal_model(clean_dataset)
    
    # 5. Evaluate
    metrics = evaluate_model(model, test_set)
    print(f"Accuracy: {metrics['accuracy']:.1%}")
    
    # 6. If better than current, publish
    if metrics['accuracy'] > current_model_accuracy:
        publish_model(model, version="1.3.0")
        notify_users("New model available!")
    
    # 7. Generate changelog
    generate_changelog(old_model, new_model)
```

---

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–µ—Å–ª–∏ –Ω–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞)

### –í–∞—Ä–∏–∞–Ω—Ç 1: P2P (peer-to-peer)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è training samples –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ —Ç–æ—Ä—Ä–µ–Ω—Ç-–ø–æ–¥–æ–±–Ω—É—é —Å–∏—Å—Ç–µ–º—É.

**–ü–ª—é—Å—ã:**
- –ù–µ –Ω—É–∂–µ–Ω —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- –î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ

**–ú–∏–Ω—É—Å—ã:**
- –°–ª–æ–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
- –ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞

### –í–∞—Ä–∏–∞–Ω—Ç 2: GitHub Releases

–ú–æ–¥–µ–ª–∏ –∏ datasets –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –∫–∞–∫ GitHub Releases.

```bash
# Download latest model
curl -L https://github.com/yourusername/mobile-observe/releases/latest/download/universal_model.pkl \
  -o ml_models/universal_element_classifier.pkl
```

**–ü–ª—é—Å—ã:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- Version control

**–ú–∏–Ω—É—Å—ã:**
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π aggregation –¥–∞–Ω–Ω—ã—Ö
- –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–æ–±—É—á–∞—Ç—å –º–æ–¥–µ–ª—å

### –í–∞—Ä–∏–∞–Ω—Ç 3: Federated Learning

–ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–æ–ª—å–∫–æ –≤–µ—Å–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è.

**–ü–ª—é—Å—ã:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
- –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

**–ú–∏–Ω—É—Å—ã:**
- –û—á–µ–Ω—å —Å–ª–æ–∂–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –¢—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

---

## üöÄ Roadmap

### Phase 1: Foundation (Done ‚úÖ)
- [x] Universal pre-trained model
- [x] Synthetic dataset generation
- [x] Basic ML classification

### Phase 2: Self-Learning (Current)
- [ ] SelfLearningCollector implementation
- [ ] ModelUpdater implementation  
- [ ] FeedbackCollector implementation
- [ ] Local caching and batching
- [ ] Privacy-first data anonymization

### Phase 3: Infrastructure (Future)
- [ ] Production API server
- [ ] Automated training pipeline
- [ ] Model versioning and rollback
- [ ] A/B testing for model updates
- [ ] User dashboard (contributions stats)

### Phase 4: Advanced Features (Future)
- [ ] Multi-language model (Rust core?)
- [ ] Real-time model updates
- [ ] Federated learning support
- [ ] Custom model fine-tuning UI
- [ ] Model marketplace (community models)

---

## üìö References

- **Privacy by Design**: https://www.privacybydesign.foundation/
- **Federated Learning**: https://federated.withgoogle.com/
- **GDPR Compliance**: https://gdpr.eu/
- **ML Model Versioning**: https://dvc.org/

---

## üí¨ FAQ

**Q: –ú–æ–≥—É –ª–∏ —è –æ—Ç–∫–ª—é—á–∏—Ç—å —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö?**  
A: –î–∞, –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç: `observe config set ml.contribute false`

**Q: –ú–æ–∂–Ω–æ –ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è?**  
A: –î–∞, –æ–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ `ml_cache/training_samples/`. –ú–æ–∂–µ—à—å –∏–∑—É—á–∏—Ç—å –ª—é–±–æ–π —Ñ–∞–π–ª.

**Q: –ê –µ—Å–ª–∏ —è —Ö–æ—á—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ—é –º–æ–¥–µ–ª—å?**  
A: –ú–æ–∂–µ—à—å –æ–±—É—á–∏—Ç—å —Å–≤–æ—é: `observe ml train --data my_data.json --output my_model.pkl`

**Q: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ª–∏ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º?**  
A: –î–∞, –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

**Q: –°–∫–æ–ª—å–∫–æ –∑–∞–Ω–∏–º–∞–µ—Ç –º–æ–¥–µ–ª—å?**  
A: ~5-10 MB (–æ–¥–Ω–∞ –º–æ–¥–µ–ª—å –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º)

**Q: –ö–∞–∫ —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–æ–¥–µ–ª—å?**  
A: –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ —Ä–µ–∂–µ/—á–∞—â–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö.

**Q: –ß—Ç–æ –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω?**  
A: Framework –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª—å—é. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –ø–æ–∑–∂–µ.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ iOS)?**  
A: –î–∞, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å: `observe config set ml.contribute_platforms ios`

**Q: –ê –µ—Å–ª–∏ —è –Ω–∞—à–µ–ª –±–∞–≥ –≤ –º–æ–¥–µ–ª–∏?**  
A: –ú–æ–∂–µ—à—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –∫–æ–º–∞–Ω–¥–æ–π `observe ml correct` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å issue –Ω–∞ GitHub.
